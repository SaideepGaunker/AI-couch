<!DOCTYPE html>
<html lang="en" ng-app="interviewPrepApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/src/styles/common.css">
    <!-- Google Fonts - Poppins for modern look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container mt-4" ng-controller="DashboardController as vm">
        <h2>Dashboard Debug Test</h2>
        
        <div class="card">
            <div class="card-body">
                <h5>User Data Test</h5>
                <p>User object: <code>{{vm.user | json}}</code></p>
                <p>User name: <strong>{{vm.user.name || 'No name'}}</strong></p>
                
                <h5 class="mt-4">Stats Data Test</h5>
                <p>Stats object: <code>{{vm.stats | json}}</code></p>
                <p>Total sessions: <strong>{{vm.stats.total_sessions || 0}}</strong></p>
                <p>Total time: <strong>{{vm.stats.total_time || 0}}h</strong></p>
                <p>Average score: <strong>{{vm.stats.avg_score || 0}}%</strong></p>
                <p>Improvement: <strong>{{vm.stats.improvement || 0}}%</strong></p>
                
                <h5 class="mt-4">Loading State</h5>
                <p>Loading: {{vm.loading}}</p>
                <p>Error: {{vm.error || 'None'}}</p>
                
                <h5 class="mt-4">Recent Sessions</h5>
                <p>Sessions count: {{vm.recentSessions.length || 0}}</p>
                <p>Sessions data: <code>{{vm.recentSessions | json}}</code></p>
                
                <button class="btn btn-primary" ng-click="vm.loadDashboardData()">Reload Data</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular-route.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular-sanitize.min.js"></script>

    <!-- App Scripts -->
    <script src="src/js/app.js"></script>
    
    <!-- Service Scripts -->
    <script src="src/js/services/error-handling.service.js"></script>
    <script src="src/js/services/api.service.js"></script>
    <script src="src/js/services/auth.service.js"></script>
    <script src="src/js/services/auth.interceptor.js"></script>
    <script src="src/js/services/difficulty-display.service.js"></script>
    <script src="src/js/services/session-data.service.js"></script>
    <script src="src/js/services/session-settings.service.js"></script>
    <script src="src/js/services/unified-difficulty-state.service.js"></script>
    
    <!-- Dashboard Controller -->
    <script src="src/components/dashboard/dashboard.controller.js"></script>
</body>
</html>